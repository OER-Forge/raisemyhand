<!DOCTYPE html>
<html>
<head>
    <title>Test Auth Headers</title>
</head>
<body>
    <h1>Test Auth Headers</h1>
    <button onclick="testAuth()">Test Auth</button>
    <div id="results"></div>

    <script src="/static/js/shared.js"></script>
    <script>
        // Set a test admin token
        localStorage.setItem('admin_token', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc2NzUyNTE0MH0.3IAGmPuopTsyDvLETcSozvYl5I1ndP3W4nrOL-Oe7iQ');
        
        function testAuth() {
            try {
                console.log('Testing getAuthHeaders...');
                const headers = getAuthHeaders();
                console.log('Headers result:', headers);
                document.getElementById('results').innerHTML = '<pre>' + JSON.stringify(headers, null, 2) + '</pre>';
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('results').innerHTML = '<p style="color:red">Error: ' + error.message + '</p>';
            }
        }
        
        // Auto-test on load
        setTimeout(testAuth, 1000);
    </script>
</body>
</html>